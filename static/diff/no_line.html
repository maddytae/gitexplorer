<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<style type="text/css">
pre {
  font-family:Courier New;
  font-size:10pt;
}

.af_line {
  color: gray;
  text-decoration: none;
}

</style>
<title>Source file</title>
</head>
<body>
<pre>
<span style="color:#a71d5d;">import</span><span style="color:#333333;"> os</span>
<span style="color:#a71d5d;">from</span><span style="color:#333333;"> flask </span><span style="color:#a71d5d;">import</span><span style="color:#333333;"> Flask, render_template, request, session, redirect, url_for, jsonify</span>
<span style="color:#a71d5d;">import</span><span style="color:#333333;"> utilities </span><span style="color:#a71d5d;">as</span><span style="color:#333333;"> ut</span>
<span style="color:#a71d5d;">import</span><span style="color:#333333;"> settings</span>
<span style="color:#a71d5d;">import</span><span style="color:#333333;"> subprocess</span>

<span style="color:#a71d5d;">import</span><span style="color:#333333;"> logging</span>

<span style="background-color:#ffc0c0;"># </span><span style="background-color:#ffe0e0;">logging.basicConfig(level=logging.DEBUG)</span><span style="background-color:#ffe0e0;"></span>
<span style="color:#333333;background-color:#d0ffd0;">logging.</span><span style="color:#0086b3;background-color:#d0ffd0;">basicConfig</span><span style="color:#333333;background-color:#d0ffd0;">(</span><span style="color:#0086b3;background-color:#d0ffd0;">level</span><span style="color:#a71d5d;background-color:#d0ffd0;">=</span><span style="color:#333333;background-color:#d0ffd0;">logging.</span><span style="color:#0086b3;background-color:#d0ffd0;">DEBUG</span><span style="color:#333333;background-color:#d0ffd0;">)</span><span style="background-color:#d0ffd0;"></span>

<span style="color:#333333;">st </span><span style="color:#a71d5d;">=</span><span style="color:#333333;"> settings.</span><span style="color:#0086b3;">PrepareSettings</span><span style="color:#333333;">()</span>

<span style="color:#333333;">app </span><span style="color:#a71d5d;">=</span><span style="color:#333333;"> </span><span style="color:#0086b3;">Flask</span><span style="color:#333333;">(__name__)</span>
<span style="color:#333333;">app.secret_key </span><span style="color:#a71d5d;">=</span><span style="color:#333333;"> </span><span style="color:#183691;">&quot;khiadh2727sdhks888s&quot;</span>

<span style="color:#333333;">&#64;app.</span><span style="color:#0086b3;">route</span><span style="color:#333333;">(</span><span style="color:#183691;">&quot;/&quot;</span><span style="color:#333333;">, </span><span style="color:#0086b3;">methods</span><span style="color:#a71d5d;">=</span><span style="color:#333333;">[</span><span style="color:#183691;">&quot;GET&quot;</span><span style="color:#333333;">, </span><span style="color:#183691;">&quot;POST&quot;</span><span style="color:#333333;">])</span>
<span style="color:#a71d5d;">def</span><span style="color:#333333;"> </span><span style="color:#795da3;">main</span><span style="color:#333333;">():</span>
<span style="color:#333333;">    error_message </span><span style="color:#a71d5d;">=</span><span style="color:#333333;"> </span><span style="color:#0086b3;">None</span>
<span style="color:#333333;">    </span><span style="color:#a71d5d;">if</span><span style="color:#333333;"> request.method </span><span style="color:#a71d5d;">==</span><span style="color:#333333;"> </span><span style="color:#183691;">&quot;POST&quot;</span><span style="color:#333333;">:</span>
<span style="color:#333333;">        sshAddress </span><span style="color:#a71d5d;">=</span><span style="color:#333333;"> request.form.</span><span style="color:#0086b3;">get</span><span style="color:#333333;">(</span><span style="color:#183691;">&quot;sshAddress&quot;</span><span style="color:#333333;">)</span>
<span style="color:#333333;">        </span><span style="color:#a71d5d;">if</span><span style="color:#333333;"> sshAddress:</span>
<span style="color:#333333;">            </span><span style="color:#a71d5d;">try</span><span style="color:#333333;">:</span>
<span style="color:#333333;">                ut.</span><span style="color:#0086b3;">repo_cloning</span><span style="color:#333333;">(sshAddress, ut.</span><span style="color:#0086b3;">return_full_path</span><span style="color:#333333;">(sshAddress), st.repo_size_limit)</span>
<span style="color:#333333;">                session[</span><span style="color:#183691;">&quot;sshAddress&quot;</span><span style="color:#333333;">] </span><span style="color:#a71d5d;">=</span><span style="color:#333333;"> sshAddress</span>
<span style="color:#333333;">                repo_name </span><span style="color:#a71d5d;">=</span><span style="color:#333333;"> sshAddress.</span><span style="color:#0086b3;">split</span><span style="color:#333333;">(</span><span style="color:#183691;">&apos;/&apos;</span><span style="color:#333333;">)[</span><span style="color:#a71d5d;">-</span><span style="color:#0086b3;">1</span><span style="color:#333333;">].</span><span style="color:#0086b3;">replace</span><span style="color:#333333;">(</span><span style="color:#183691;">&apos;.git&apos;</span><span style="color:#333333;">, </span><span style="color:#183691;">&apos;&apos;</span><span style="color:#333333;">)</span>
<span style="color:#333333;">                </span><span style="color:#a71d5d;">return</span><span style="color:#333333;"> </span><span style="color:#0086b3;">redirect</span><span style="color:#333333;">(</span><span style="color:#0086b3;">url_for</span><span style="color:#333333;">(</span><span style="color:#183691;">&quot;repo&quot;</span><span style="color:#333333;">, </span><span style="color:#0086b3;">repo_name</span><span style="color:#a71d5d;">=</span><span style="color:#333333;">repo_name))</span>
<span style="color:#333333;">            </span><span style="color:#a71d5d;">except</span><span style="color:#333333;"> ut.SizeLimitExceededError </span><span style="color:#a71d5d;">as</span><span style="color:#333333;"> e:</span>
<span style="color:#333333;">                error_message </span><span style="color:#a71d5d;">=</span><span style="color:#333333;"> </span><span style="color:#183691;">&quot;Repo exceeded size limit.&quot;</span>
<span style="color:#333333;">            </span><span style="color:#a71d5d;">except</span><span style="color:#333333;"> ut.InvalidSSHAddressError </span><span style="color:#a71d5d;">as</span><span style="color:#333333;"> e:</span>
<span style="color:#333333;">                error_message </span><span style="color:#a71d5d;">=</span><span style="color:#333333;"> </span><span style="color:#183691;">&quot;Invalid ssh address.&quot;</span>
<span style="color:#333333;">            </span><span style="color:#a71d5d;">except</span><span style="color:#333333;"> </span><span style="color:#0086b3;">Exception</span><span style="color:#333333;"> </span><span style="color:#a71d5d;">as</span><span style="color:#333333;"> e:</span>
<span style="color:#333333;">                error_message </span><span style="color:#a71d5d;">=</span><span style="color:#333333;"> </span><span style="color:#183691;">&quot;An unexpected error occurred.&quot;</span>

<span style="color:#333333;">    </span><span style="color:#a71d5d;">return</span><span style="color:#333333;"> </span><span style="color:#0086b3;">render_template</span><span style="color:#333333;">(</span><span style="color:#183691;">&quot;main.html&quot;</span><span style="color:#333333;">, </span><span style="color:#0086b3;">error_message</span><span style="color:#a71d5d;">=</span><span style="color:#333333;">error_message)</span>


<span style="color:#333333;">&#64;app.</span><span style="color:#0086b3;">route</span><span style="color:#333333;">(</span><span style="color:#183691;">&quot;/repo/&lt;repo_name&gt;&quot;</span><span style="color:#333333;">, </span><span style="color:#0086b3;">methods</span><span style="color:#a71d5d;">=</span><span style="color:#333333;">[</span><span style="color:#183691;">&quot;GET&quot;</span><span style="color:#333333;">, </span><span style="color:#183691;">&quot;POST&quot;</span><span style="color:#333333;">])</span>
<span style="color:#a71d5d;">def</span><span style="color:#333333;"> </span><span style="color:#795da3;">repo</span><span style="color:#333333;">(</span><span style="color:#0086b3;">repo_name</span><span style="color:#333333;">):</span>
<span style="color:#333333;">    sshAddress </span><span style="color:#a71d5d;">=</span><span style="color:#333333;"> session.</span><span style="color:#0086b3;">get</span><span style="color:#333333;">(</span><span style="color:#183691;">&quot;sshAddress&quot;</span><span style="color:#333333;">, </span><span style="color:#183691;">&quot;&quot;</span><span style="color:#333333;">)</span>
<span style="color:#333333;">    branches </span><span style="color:#a71d5d;">=</span><span style="color:#333333;"> ut.</span><span style="color:#0086b3;">get_git_branches</span><span style="color:#333333;">(sshAddress) </span><span style="color:#a71d5d;">if</span><span style="color:#333333;"> sshAddress </span><span style="color:#a71d5d;">else</span><span style="color:#333333;"> []</span>
<span style="color:#333333;">    </span>
<span style="background-color:#ffe0e0;"></span>
<span style="background-color:#ffe0e0;"></span>
<span style="color:#333333;">    </span><span style="color:#969896;"># Initialize variables with default values</span>
<span style="color:#333333;">    selected_branch1 </span><span style="color:#a71d5d;">=</span><span style="color:#333333;"> selected_branch2 </span><span style="color:#a71d5d;">=</span><span style="color:#333333;"> selected_commit1 </span><span style="color:#a71d5d;">=</span><span style="color:#333333;"> selected_commit2 </span><span style="color:#a71d5d;">=</span><span style="color:#333333;"> selected_filePath </span><span style="color:#a71d5d;">=</span><span style="color:#333333;"> </span><span style="color:#183691;">&quot;&quot;</span>
<span style="color:#333333;">    commits1 </span><span style="color:#a71d5d;">=</span><span style="color:#333333;"> commits2 </span><span style="color:#a71d5d;">=</span><span style="color:#333333;"> filePaths </span><span style="color:#a71d5d;">=</span><span style="color:#333333;"> []</span>

<span style="background-color:#ffe0e0;"></span>
<span style="color:#333333;">    </span><span style="color:#a71d5d;">if</span><span style="color:#333333;"> request.method </span><span style="color:#a71d5d;">==</span><span style="color:#333333;"> </span><span style="color:#183691;">&quot;POST&quot;</span><span style="color:#333333;">:</span>
<span style="color:#333333;">        </span><span style="color:#969896;"># Fetch the selected branches and commits from the form</span>
<span style="color:#333333;">        selected_branch1 </span><span style="color:#a71d5d;">=</span><span style="color:#333333;"> request.form.</span><span style="color:#0086b3;">get</span><span style="color:#333333;">(</span><span style="color:#183691;">&quot;branch1&quot;</span><span style="color:#333333;">, </span><span style="color:#183691;">&quot;&quot;</span><span style="color:#333333;">)</span>
<span style="color:#333333;">        selected_branch2 </span><span style="color:#a71d5d;">=</span><span style="color:#333333;"> request.form.</span><span style="color:#0086b3;">get</span><span style="color:#333333;">(</span><span style="color:#183691;">&quot;branch2&quot;</span><span style="color:#333333;">, </span><span style="color:#183691;">&quot;&quot;</span><span style="color:#333333;">)</span>
<span style="color:#333333;">        selected_commit1 </span><span style="color:#a71d5d;">=</span><span style="color:#333333;"> request.form.</span><span style="color:#0086b3;">get</span><span style="color:#333333;">(</span><span style="color:#183691;">&quot;commit1&quot;</span><span style="color:#333333;">, </span><span style="color:#183691;">&quot;&quot;</span><span style="color:#333333;">)</span>
<span style="color:#333333;">        selected_commit2 </span><span style="color:#a71d5d;">=</span><span style="color:#333333;"> request.form.</span><span style="color:#0086b3;">get</span><span style="color:#333333;">(</span><span style="color:#183691;">&quot;commit2&quot;</span><span style="color:#333333;">, </span><span style="color:#183691;">&quot;&quot;</span><span style="color:#333333;">)</span>
<span style="color:#333333;">        selected_filePath</span><span style="color:#a71d5d;">=</span><span style="color:#333333;"> request.form.</span><span style="color:#0086b3;">get</span><span style="color:#333333;">(</span><span style="color:#183691;">&quot;filePath&quot;</span><span style="color:#333333;">, </span><span style="color:#183691;">&quot;&quot;</span><span style="color:#333333;">)</span>

<span style="color:#333333;">        </span><span style="color:#969896;"># Fetch commits for the selected branches</span>
<span style="color:#333333;">        </span><span style="color:#a71d5d;">if</span><span style="color:#333333;"> selected_branch1:</span>
<span style="color:#333333;">            commits1 </span><span style="color:#a71d5d;">=</span><span style="color:#333333;"> ut.</span><span style="color:#0086b3;">get_commits_for_branch</span><span style="color:#333333;">(sshAddress, selected_branch1)</span>
<span style="background-color:#d0ffd0;"></span>
<span style="color:#333333;">        </span><span style="color:#a71d5d;">if</span><span style="color:#333333;"> selected_branch2:</span>
<span style="color:#333333;">            commits2 </span><span style="color:#a71d5d;">=</span><span style="color:#333333;"> ut.</span><span style="color:#0086b3;">get_commits_for_branch</span><span style="color:#333333;">(sshAddress, selected_branch2)</span>

<span style="background-color:#ffe0e0;">        # # Log for debugging</span><span style="background-color:#ffe0e0;"></span>
<span style="background-color:#ffe0e0;">        # app.logger.debug(f&quot;Selected Branch 1: {selected_branch1}, Selected Branch 2: {selected_branch2}&quot;)</span><span style="background-color:#ffe0e0;"></span>
<span style="background-color:#ffe0e0;">        # app.logger.debug(f&quot;Selected Commit 1: {selected_commit1}, Selected Commit 2: {selected_commit2}&quot;)</span><span style="background-color:#ffe0e0;"></span>

<span style="color:#333333;">        </span><span style="color:#a71d5d;">if</span><span style="color:#333333;"> selected_commit1 </span><span style="color:#a71d5d;">and</span><span style="color:#333333;"> selected_commit2:</span>
<span style="color:#333333;">            filePaths </span><span style="color:#a71d5d;">=</span><span style="color:#333333;"> ut.</span><span style="color:#0086b3;">get_modified_files</span><span style="color:#333333;">(sshAddress,selected_commit1,selected_commit2)</span>
<span style="color:#333333;">            diff_folder_path </span><span style="color:#a71d5d;">=</span><span style="color:#333333;"> os.path.</span><span style="color:#0086b3;">join</span><span style="color:#333333;">(app.static_folder, </span><span style="color:#183691;">&apos;diff&apos;</span><span style="color:#333333;">)</span>
<span style="color:#333333;">            ut.</span><span style="color:#0086b3;">clear_directory</span><span style="color:#333333;">(diff_folder_path)</span>

<span style="color:#333333;">            repo_path </span><span style="color:#a71d5d;">=</span><span style="color:#333333;"> os.path.</span><span style="color:#0086b3;">join</span><span style="color:#333333;">(st.repo_store, repo_name)</span>

<span style="color:#333333;">            output_path1 </span><span style="color:#a71d5d;">=</span><span style="color:#333333;"> os.path.</span><span style="color:#0086b3;">join</span><span style="color:#333333;">(app.static_folder, </span><span style="color:#183691;">&apos;diff&apos;</span><span style="color:#333333;">, </span><span style="color:#183691;">&apos;folder_diff.html&apos;</span><span style="color:#333333;">)</span>
<span style="color:#333333;">            output_path2 </span><span style="color:#a71d5d;">=</span><span style="color:#333333;"> os.path.</span><span style="color:#0086b3;">join</span><span style="color:#333333;">(app.static_folder, </span><span style="color:#183691;">&apos;diff&apos;</span><span style="color:#333333;">, </span><span style="color:#183691;">&apos;folder_diff_modifications_only.html&apos;</span><span style="color:#333333;">)</span>

<span style="color:#333333;">            </span><span style="color:#969896;"># Command to run the git_tree_cli.py script</span>
<span style="color:#333333;">            command1 </span><span style="color:#a71d5d;">=</span><span style="color:#333333;"> </span><span style="color:#a71d5d;">f</span><span style="color:#183691;">&quot;python utilities/git_tree_cli.py </span><span style="color:#333333;">{repo_path}</span><span style="color:#183691;"> </span><span style="color:#333333;">{selected_commit1}</span><span style="color:#183691;"> </span><span style="color:#333333;">{selected_commit2}</span><span style="color:#183691;"> | ansifilter --encoding=UTF-8 --html&quot;</span>
<span style="color:#333333;">            command2 </span><span style="color:#a71d5d;">=</span><span style="color:#333333;"> </span><span style="color:#a71d5d;">f</span><span style="color:#183691;">&quot;python utilities/git_tree_cli.py </span><span style="color:#333333;">{repo_path}</span><span style="color:#183691;"> </span><span style="color:#333333;">{selected_commit1}</span><span style="color:#183691;"> </span><span style="color:#333333;">{selected_commit2}</span><span style="color:#183691;"> --only-modifications | ansifilter --encoding=UTF-8 --html&quot;</span>

<span style="background-color:#ffe0e0;"></span>
<span style="color:#333333;">            </span><span style="color:#969896;"># Running the command and writing the output to the HTML file</span>
<span style="color:#333333;">            </span><span style="color:#a71d5d;">with</span><span style="color:#333333;"> </span><span style="color:#0086b3;">open</span><span style="color:#333333;">(output_path1, </span><span style="color:#183691;">&apos;w&apos;</span><span style="color:#333333;">) </span><span style="color:#a71d5d;">as</span><span style="color:#333333;"> file:</span>
<span style="color:#333333;">                subprocess.</span><span style="color:#0086b3;">run</span><span style="color:#333333;">(command1, </span><span style="color:#0086b3;">shell</span><span style="color:#a71d5d;">=</span><span style="color:#0086b3;">True</span><span style="color:#333333;">, </span><span style="color:#0086b3;">stdout</span><span style="color:#a71d5d;">=</span><span style="color:#333333;">file, </span><span style="color:#0086b3;">check</span><span style="color:#a71d5d;">=</span><span style="color:#0086b3;">True</span><span style="color:#333333;">)</span>
<span style="color:#333333;">            </span><span style="color:#a71d5d;">with</span><span style="color:#333333;"> </span><span style="color:#0086b3;">open</span><span style="color:#333333;">(output_path2, </span><span style="color:#183691;">&apos;w&apos;</span><span style="color:#333333;">) </span><span style="color:#a71d5d;">as</span><span style="color:#333333;"> file:</span>
<span style="color:#333333;">                subprocess.</span><span style="color:#0086b3;">run</span><span style="color:#333333;">(command2, </span><span style="color:#0086b3;">shell</span><span style="color:#a71d5d;">=</span><span style="color:#0086b3;">True</span><span style="color:#333333;">, </span><span style="color:#0086b3;">stdout</span><span style="color:#a71d5d;">=</span><span style="color:#333333;">file, </span><span style="color:#0086b3;">check</span><span style="color:#a71d5d;">=</span><span style="color:#0086b3;">True</span><span style="color:#333333;">)</span>


<span style="color:#333333;">        </span><span style="color:#a71d5d;">if</span><span style="color:#333333;"> selected_commit1 </span><span style="color:#a71d5d;">and</span><span style="color:#333333;"> selected_commit2 </span><span style="color:#a71d5d;">and</span><span style="color:#333333;"> selected_filePath:</span>

<span style="background-color:#ffe0e0;"></span>
<span style="color:#333333;">            subprocess.</span><span style="color:#0086b3;">run</span><span style="color:#333333;">([</span><span style="color:#183691;">&quot;git&quot;</span><span style="color:#333333;">, </span><span style="color:#183691;">&quot;-C&quot;</span><span style="color:#333333;">, repo_path, </span><span style="color:#183691;">&quot;checkout&quot;</span><span style="color:#333333;">, selected_commit1, selected_filePath])</span>
<span style="color:#333333;">            subprocess.</span><span style="color:#0086b3;">run</span><span style="color:#333333;">([</span><span style="color:#183691;">&quot;git&quot;</span><span style="color:#333333;">, </span><span style="color:#183691;">&quot;-C&quot;</span><span style="color:#333333;">, repo_path, </span><span style="color:#183691;">&quot;checkout&quot;</span><span style="color:#333333;">, selected_commit2, selected_filePath])</span>

<span style="background-color:#ffe0e0;"></span>
<span style="background-color:#ffe0e0;"></span>
<span style="color:#333333;">            output_path3 </span><span style="color:#a71d5d;">=</span><span style="color:#333333;"> os.path.</span><span style="color:#0086b3;">join</span><span style="color:#333333;">(app.static_folder, </span><span style="color:#183691;">&apos;diff&apos;</span><span style="color:#333333;">, </span><span style="color:#183691;">&apos;line.html&apos;</span><span style="color:#333333;">)</span>
<span style="color:#333333;">            output_path4 </span><span style="color:#a71d5d;">=</span><span style="color:#333333;"> os.path.</span><span style="color:#0086b3;">join</span><span style="color:#333333;">(app.static_folder, </span><span style="color:#183691;">&apos;diff&apos;</span><span style="color:#333333;">, </span><span style="color:#183691;">&apos;no_line.html&apos;</span><span style="color:#333333;">)</span>
<span style="color:#333333;">            output_path5 </span><span style="color:#a71d5d;">=</span><span style="color:#333333;"> os.path.</span><span style="color:#0086b3;">join</span><span style="color:#333333;">(app.static_folder, </span><span style="color:#183691;">&apos;diff&apos;</span><span style="color:#333333;">, </span><span style="color:#183691;">&apos;side_by_side.html&apos;</span><span style="color:#333333;">)</span>
<span style="color:#333333;">            </span>
<span style="color:#333333;">            command3 </span><span style="color:#a71d5d;">=</span><span style="color:#333333;"> </span><span style="color:#a71d5d;">f</span><span style="color:#183691;">&quot;git -C </span><span style="color:#333333;">{repo_path}</span><span style="color:#183691;"> diff -U10000 </span><span style="color:#333333;">{selected_commit1}</span><span style="color:#183691;"> </span><span style="color:#333333;">{selected_commit2}</span><span style="color:#183691;"> </span><span style="color:#333333;">{selected_filePath}</span><span style="color:#183691;"> |delta --line-numbers | ansifilter --encoding=UTF-8 --html&quot;</span>
<span style="color:#333333;">            command4 </span><span style="color:#a71d5d;">=</span><span style="color:#333333;"> </span><span style="color:#a71d5d;">f</span><span style="color:#183691;">&quot;git -C </span><span style="color:#333333;">{repo_path}</span><span style="color:#183691;"> diff -U10000 </span><span style="color:#333333;">{selected_commit1}</span><span style="color:#183691;"> </span><span style="color:#333333;">{selected_commit2}</span><span style="color:#183691;"> </span><span style="color:#333333;">{selected_filePath}</span><span style="color:#183691;">|delta  | ansifilter --encoding=UTF-8 --html&quot;</span>
<span style="color:#333333;">            command5 </span><span style="color:#a71d5d;">=</span><span style="color:#333333;"> </span><span style="color:#a71d5d;">f</span><span style="color:#183691;">&quot;git -C </span><span style="color:#333333;">{repo_path}</span><span style="color:#183691;"> diff -U10000 </span><span style="color:#333333;">{selected_commit1}</span><span style="color:#183691;"> </span><span style="color:#333333;">{selected_commit2}</span><span style="color:#183691;"> </span><span style="color:#333333;">{selected_filePath}</span><span style="color:#183691;">|delta --width=150 --side-by-side | ansifilter --encoding=UTF-8 --html&quot;</span>
<span style="color:#333333;">  </span>
<span style="color:#333333;">            </span><span style="color:#a71d5d;">with</span><span style="color:#333333;"> </span><span style="color:#0086b3;">open</span><span style="color:#333333;">(output_path3, </span><span style="color:#183691;">&apos;w&apos;</span><span style="color:#333333;">) </span><span style="color:#a71d5d;">as</span><span style="color:#333333;"> file:</span>
<span style="color:#333333;">                subprocess.</span><span style="color:#0086b3;">run</span><span style="color:#333333;">(command3, </span><span style="color:#0086b3;">shell</span><span style="color:#a71d5d;">=</span><span style="color:#0086b3;">True</span><span style="color:#333333;">, </span><span style="color:#0086b3;">stdout</span><span style="color:#a71d5d;">=</span><span style="color:#333333;">file, </span><span style="color:#0086b3;">check</span><span style="color:#a71d5d;">=</span><span style="color:#0086b3;">True</span><span style="color:#333333;">)</span>
<span style="color:#333333;">            </span><span style="color:#a71d5d;">with</span><span style="color:#333333;"> </span><span style="color:#0086b3;">open</span><span style="color:#333333;">(output_path4, </span><span style="color:#183691;">&apos;w&apos;</span><span style="color:#333333;">) </span><span style="color:#a71d5d;">as</span><span style="color:#333333;"> file:</span>
<span style="color:#333333;">                subprocess.</span><span style="color:#0086b3;">run</span><span style="color:#333333;">(command4, </span><span style="color:#0086b3;">shell</span><span style="color:#a71d5d;">=</span><span style="color:#0086b3;">True</span><span style="color:#333333;">, </span><span style="color:#0086b3;">stdout</span><span style="color:#a71d5d;">=</span><span style="color:#333333;">file, </span><span style="color:#0086b3;">check</span><span style="color:#a71d5d;">=</span><span style="color:#0086b3;">True</span><span style="color:#333333;">)</span>
<span style="color:#333333;">            </span><span style="color:#a71d5d;">with</span><span style="color:#333333;"> </span><span style="color:#0086b3;">open</span><span style="color:#333333;">(output_path5, </span><span style="color:#183691;">&apos;w&apos;</span><span style="color:#333333;">) </span><span style="color:#a71d5d;">as</span><span style="color:#333333;"> file:</span>
<span style="color:#333333;">                subprocess.</span><span style="color:#0086b3;">run</span><span style="color:#333333;">(command5, </span><span style="color:#0086b3;">shell</span><span style="color:#a71d5d;">=</span><span style="color:#0086b3;">True</span><span style="color:#333333;">, </span><span style="color:#0086b3;">stdout</span><span style="color:#a71d5d;">=</span><span style="color:#333333;">file, </span><span style="color:#0086b3;">check</span><span style="color:#a71d5d;">=</span><span style="color:#0086b3;">True</span><span style="color:#333333;">)</span>


<span style="color:#333333;">    </span><span style="color:#a71d5d;">return</span><span style="color:#333333;"> </span><span style="color:#0086b3;">render_template</span><span style="color:#333333;">(</span><span style="color:#183691;">&quot;repo.html&quot;</span><span style="color:#333333;">, </span><span style="color:#0086b3;">repo_name</span><span style="color:#a71d5d;">=</span><span style="color:#333333;">repo_name, </span>
<span style="color:#333333;">                           </span><span style="color:#0086b3;">branches</span><span style="color:#a71d5d;">=</span><span style="color:#333333;">branches, </span>
<span style="color:#333333;">                           </span><span style="color:#0086b3;">filePaths</span><span style="color:#a71d5d;">=</span><span style="color:#333333;">filePaths,</span>
<span style="color:#333333;">                           </span><span style="color:#0086b3;">selected_filePath</span><span style="color:#a71d5d;">=</span><span style="color:#333333;">selected_filePath,</span>
<span style="color:#333333;">                           </span><span style="color:#0086b3;">commits1</span><span style="color:#a71d5d;">=</span><span style="color:#333333;">commits1, </span>
<span style="color:#333333;">                           </span><span style="color:#0086b3;">commits2</span><span style="color:#a71d5d;">=</span><span style="color:#333333;">commits2, </span>
<span style="color:#333333;">                           </span><span style="color:#0086b3;">selected_branch1</span><span style="color:#a71d5d;">=</span><span style="color:#333333;">selected_branch1,</span>
<span style="color:#333333;">                           </span><span style="color:#0086b3;">selected_branch2</span><span style="color:#a71d5d;">=</span><span style="color:#333333;">selected_branch2,</span>
<span style="color:#333333;">                           </span><span style="color:#0086b3;">selected_commit1</span><span style="color:#a71d5d;">=</span><span style="color:#333333;">selected_commit1,</span>
<span style="color:#333333;">                           </span><span style="color:#0086b3;">selected_commit2</span><span style="color:#a71d5d;">=</span><span style="color:#333333;">selected_commit2)</span>

<span style="color:#a71d5d;">if</span><span style="color:#333333;"> __name__ </span><span style="color:#a71d5d;">==</span><span style="color:#333333;"> </span><span style="color:#183691;">&quot;__main__&quot;</span><span style="color:#333333;">:</span>
<span style="color:#333333;">    app.</span><span style="color:#0086b3;">run</span><span style="color:#333333;">(</span><span style="color:#0086b3;">debug</span><span style="color:#a71d5d;">=</span><span style="color:#0086b3;">True</span><span style="color:#333333;">)</span>




</pre>
</body>
</html>
<!--HTML generated by ansifilter 2.20, http://www.andre-simon.de/-->
